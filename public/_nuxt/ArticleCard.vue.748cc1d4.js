import{a as ct,w as $t,b as Nt,e as x,o as U,f as nt,j as Y,u as R,F as ne,r as ie,c as mt,i as wt,k as re,t as at,l as Wt,m as oe,q,h as ae,s as se,v as _t,x as ue,y as st,z as ce,A as zt,B as St,C as le,D as Rt,E as fe,G as kt,H as de,I as he,J as me}from"./entry.be424422.js";var lt={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GET_SIDE_MENU"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sidemenu"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"menulinks_id"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sort"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:213}};lt.loc.source={body:`query GET_SIDE_MENU {
    sidemenu {
        items {
        	menulinks_id {
                id
                title
                url
                status
                sort
            }
        }
    }
}`,name:"GraphQL request",locationOffset:{line:1,column:1}};function it(t,e){if(t.kind==="FragmentSpread")e.add(t.name.value);else if(t.kind==="VariableDefinition"){var i=t.type;i.kind==="NamedType"&&e.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(n){it(n,e)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(n){it(n,e)}),t.definitions&&t.definitions.forEach(function(n){it(n,e)})}var gt={};(function(){lt.definitions.forEach(function(e){if(e.name){var i=new Set;it(e,i),gt[e.name.value]=i}})})();function Mt(t,e){for(var i=0;i<t.definitions.length;i++){var n=t.definitions[i];if(n.name&&n.name.value==e)return n}}function ge(t,e){var i={kind:t.kind,definitions:[Mt(t,e)]};t.hasOwnProperty("loc")&&(i.loc=t.loc);var n=gt[e]||new Set,o=new Set,a=new Set;for(n.forEach(function(s){a.add(s)});a.size>0;){var r=a;a=new Set,r.forEach(function(s){if(!o.has(s)){o.add(s);var u=gt[s]||new Set;u.forEach(function(l){a.add(l)})}})}return o.forEach(function(s){var u=Mt(t,s);u&&i.definitions.push(u)}),i}ge(lt,"GET_SIDE_MENU");const ve={class:"pt-0"},pe={class:"flex items-center justify-between flex-wrap bg-white-300 drop-shadow-lg mt-0 p-2"},ye={key:0,class:"text-sm"},Ze=ct({__name:"SideMenu",async setup(t){let e,i;const{data:n}=([e,i]=$t(()=>Nt(lt)),e=await e,i(),e),o=x(()=>{var a,r,s;return(s=(r=(a=n==null?void 0:n.value)==null?void 0:a.sidemenu)==null?void 0:r.items)==null?void 0:s.map(u=>u==null?void 0:u.menulinks_id)});return(a,r)=>{const s=oe;return U(),nt("div",ve,[Y("nav",pe,[R(o)?(U(),nt("div",ye,[(U(!0),nt(ne,null,ie(R(o),u=>(U(),mt(s,{to:u==null?void 0:u.url,class:"block m-2 text-red-300 hover:text-white"},{default:wt(()=>[re(at(u==null?void 0:u.title),1)]),_:2},1032,["to"]))),256))])):Wt("",!0)])])}}});function Tt(t){return typeof t=="function"}function xt(){}var rt=function(t){this.previousValue=t,this.interrupted=!1,this.interruptHandlers=new Set};rt.prototype.throwIfInterrupted=function(){if(this.interrupted)throw new Error},rt.prototype.interrupt=function(){this.interrupted||(this.interrupted=!0,this.interruptHandlers.forEach(function(t){try{t()}catch{}}))},rt.prototype.onInterrupt=function(t){if(this.interrupted&&!this.interruptHandlers.has(t))try{t()}catch{}this.interruptHandlers.add(t)};function ut(t){return function(){return t}}function Dt(){return[]}var we={animationDuration:{type:Number,default:1e3},animationEasing:{type:String,default:"ease"},animationOverlap:{type:Number,default:1},color:{type:[String,Function],default:"Black"},createCanvas:{type:Function,default:function(){return document.createElement("canvas")}},createWorker:{type:Function,default:function(t){return new Worker(URL.createObjectURL(new Blob([t])))}},enterAnimation:{type:[Object,String],default:ut({opacity:0})},fontFamily:{type:[String,Function],default:"serif"},fontSizeRatio:{type:Number,default:0},fontStyle:{type:[String,Function],default:"normal"},fontVariant:{type:[String,Function],default:"normal"},fontWeight:{type:[String,Function],default:"normal"},leaveAnimation:{type:[Object,String],default:ut({opacity:0})},loadFont:{type:Function,default:function(t,e,i,n){return document.fonts.load([e,i,"1px",t].join(" "),n)}},rotation:{type:[Number,Function],default:0},rotationUnit:{type:[String,Function],default:"turn"},spacing:{type:Number,default:0},text:{type:[String,Function],default:""},weight:{type:[Number,Function],default:1},words:{type:Array,default:Dt}},be=ut(null);function vt(t){if(t){var e=typeof t;return e==="object"||e==="function"}return!1}function pt(t){return typeof t=="string"}var _e={animationOptions:function(){var t,e,i,n=this.animationDuration,o=this.enterAnimation,a=this.leaveAnimation;if(vt(o)&&vt(a)){var r=(t=Object.assign({},o,a),e=be,i={},Object.entries(t).forEach(function(l){var f=l[0],c=l[1];i[f]=e(c,f,t)}),i),s=function(l){Object.assign(l.style,o)},u=function(l,f){setTimeout(function(){Object.assign(l.style,r),setTimeout(f,n)},1)};return{props:{css:!1},on:{beforeAppear:s,appear:u,beforeEnter:s,enter:u,leave:function(l,f){Object.assign(l.style,a),setTimeout(f,n)}}}}return pt(o)&&pt(a)?{props:{duration:n,appear:!0,appearActiveClass:o,enterActiveClass:o,leaveActiveClass:a}}:{}},normalizedAnimationOverlap:function(){var t=this.animationOverlap;return(t=Math.abs(t))<1&&(t=1/t),t},separateAnimationDelay:function(){var t=this.cloudWords;return t.length>1?(this.animationDuration-this.separateAnimationDuration)/(t.length-1):0},separateAnimationDuration:function(){var t=this.cloudWords;if(t.length>0){var e=this.animationDuration,i=this.normalizedAnimationOverlap;return e/Math.min(i,t.length)}return 0}},Se=Array.isArray;function W(t){return Tt(t)?t:ut(t)}var Pt=2*Math.PI,ke=Pt/360;function z(t){return t===void 0}function G(t,e){return t.postMessage(e),function(i){return new Promise(function(n,o){var a,r=function(u){var l=u.data;a(),n(l)},s=function(u){var l=u.error;a(),o(l)};a=function(){i.removeEventListener("message",r),i.removeEventListener("error",s)},i.addEventListener("message",r),i.addEventListener("error",s)})}(t)}function Et(t,e,i){return Math.ceil(t*Math.abs(Math.sin(i))+e*Math.abs(Math.cos(i)))}function At(t,e,i){return Math.ceil(t*Math.abs(Math.cos(i))+e*Math.abs(Math.sin(i)))}function ht(t,e,i,n,o){return[t,e,i,n+"px",o].join(" ")}function jt(t,e){return Math.ceil(t/e)*e}function Ft(t,e,i){var n=i().getContext("2d");return n.font=e,n.measureText(t).width}var Ct=function(t,e,i,n,o,a,r){this.t=t,this.i=e,this.o=i,this.u=n,this.s=o,this.h=a,this.l=r,this.v=1,this.m=0,this.p=0,this.g=0},y={M:{configurable:!0},S:{configurable:!0},F:{configurable:!0},j:{configurable:!0},O:{configurable:!0},W:{configurable:!0},A:{configurable:!0},B:{configurable:!0},C:{configurable:!0},L:{configurable:!0},_:{configurable:!0},P:{configurable:!0},T:{configurable:!0},N:{configurable:!0},k:{configurable:!0},D:{configurable:!0},H:{configurable:!0},R:{configurable:!0},U:{configurable:!0}};y.M.get=function(){return this.v},y.M.set=function(t){this.v!==t&&(this.v=t,this.V=void 0)},y.S.get=function(){return ht(this.h,this.s,this.u,this.M,this.o)},y.F.get=function(){return this.q===void 0&&(this.q=Ft(this.t,ht(this.h,this.s,this.u,1,this.o),this.l)),this.q},y.j.get=function(){return this.F*this.M},y.O.get=function(){return this.p*this.M},y.O.set=function(t){this.p=t/this.M},y.W.get=function(){return this.g*this.M},y.W.set=function(t){this.g=t/this.M},y.A.get=function(){return At(this.j,this.M,this.i)},y.B.get=function(){return Et(this.j,this.M,this.i)},y.C.get=function(){return this.O-this.A/2},y.L.get=function(){return this.W-this.B/2},y._.get=function(){return this.m},y._.set=function(t){this.m!==t&&(this.m=t,this.V=void 0)},y.P.get=function(){return this.V===void 0&&(this.V=function(t,e,i,n,o,a,r,s,u){var l=ht(e,i,n,o*=4,a),f=r*o*2,c=f+Ft(t,l,u),h=f+o,d=u(),v=d.getContext("2d"),k=jt(At(c,h,s),4),T=jt(Et(c,h,s),4);d.width=k,d.height=T,v.translate(k/2,T/2),v.rotate(s),v.font=l,v.textAlign="center",v.textBaseline="middle",v.fillText(t,0,0),f>0&&(v.miterLimit=1,v.lineWidth=f,v.strokeText(t,0,0));for(var H=v.getImageData(0,0,k,T).data,V=[],C=1/0,B=0,L=1/0,J=0,X=k/4,Z=T/4,D=0;D<X;++D)for(var P=0;P<Z;++P)t:for(var Q=0;Q<4;++Q)for(var K=0;K<4;++K)if(H[4*(k*(4*P+K)+(4*D+Q))+3]){V.push([D,P]),C=Math.min(D,C),B=Math.max(D+1,B),L=Math.min(P,L),J=Math.max(P+1,J);break t}return V.length>0?[V.map(function(tt){var dt=tt[0],g=tt[1];return[dt-C,g-L]}),B-C,J-L,Math.ceil(X/2)-C,Math.ceil(Z/2)-L]:[V,0,0,0,0]}(this.t,this.h,this.s,this.u,this.M,this.o,this._,this.i,this.l)),this.V},y.T.get=function(){return this.P[0]},y.N.get=function(){return this.P[1]},y.k.get=function(){return this.P[2]},y.D.get=function(){return this.P[3]},y.H.get=function(){return this.P[4]},y.R.get=function(){return Math.ceil(this.O)-this.D},y.R.set=function(t){this.O=t+this.D},y.U.get=function(){return Math.ceil(this.W)-this.H},y.U.set=function(t){this.W=t+this.H},Object.defineProperties(Ct.prototype,y);var Me={cloudWords:function(t){this.$emit("update:cloudWords",t)},progress:{handler:function(t){this.$emit("update:progress",t)},deep:!0,immediate:!0}},xe={updateElementSize:function(){var t=this.$el;t&&(this.elementWidth=t.offsetWidth,this.elementHeight=t.offsetHeight)}},Ee={name:"VueWordCloud",mixins:[function(t){return{data:function(){var e={};return Object.keys(t).forEach(function(i){e["asyncComputed_trigger_"+i]={}}),e},computed:{},beforeCreate:function(){var e=this,i=new Set;Object.entries(t).forEach(function(n){var o=n[0],a=n[1],r=a.get,s=a.default,u=a.errorHandler;u===void 0&&(u=xt);var l,f=!0;e.$options.computed[o]=function(){return this["asyncComputed_trigger_"+o],this["asyncComputed_promise_"+o],s},e.$options.computed["asyncComputed_promise_"+o]=function(){var c=this;l&&(l.interrupt(),i.delete(l)),f&&(f=!1,Tt(s)&&(s=s.call(this)));var h=new rt(s);l=h,i.add(l),new Promise(function(d){d(r.call(c,h))}).then(function(d){h.throwIfInterrupted(),s=d,c["asyncComputed_trigger_"+o]={}}).catch(u)}})}}}({cloudWords:{get:function(t){var e,i=this,n=this,o=n.elementWidth,a=n.elementHeight,r=n.words,s=n.text,u=n.weight,l=n.rotation,f=n.rotationUnit,c=n.fontFamily,h=n.fontWeight,d=n.fontVariant,v=n.fontStyle,k=n.color,T=n.spacing,H=n.fontSizeRatio,V=n.createCanvas,C=n.loadFont,B=n.createWorker;e=H,H=(e=Math.abs(e))>1?1/e:e;var L=function(g){var w=g[0],M=g[1];return w>M?[1,M/w]:M>w?[w/M,1]:[1,1]}([o,a]);if(o>0&&a>0){var J=W(s),X=W(u),Z=W(l),D=W(f),P=W(c),Q=W(h),K=W(d),tt=W(v),dt=W(k);return r=r.map(function(g,w){var M,_,O,E,I,m,p,b,j,A,$;g&&(pt(g)?O=g:Se(g)?(O=(M=g)[0],E=M[1]):vt(g)&&(O=(_=g).text,E=_.weight,I=_.rotation,m=_.rotationUnit,p=_.fontFamily,b=_.fontWeight,j=_.fontVariant,A=_.fontStyle,$=_.color)),z(O)&&(O=J(g,w,r)),z(E)&&(E=X(g,w,r)),z(I)&&(I=Z(g,w,r)),z(m)&&(m=D(g,w,r)),z(p)&&(p=P(g,w,r)),z(b)&&(b=Q(g,w,r)),z(j)&&(j=K(g,w,r)),z(A)&&(A=tt(g,w,r)),z($)&&($=dt(g,w,r));var F=new Ct(O,function(){switch(m){case"turn":return I*Pt;case"deg":return function(S){return S*ke}(I)}return I}(),p,b,j,A,V);return Object.assign(F,{J:g,G:E,I:$}),F}),Promise.resolve().then(function(){return Promise.all(r.map(function(g){var w=g.o,M=g.h,_=g.u,O=g.t;return C(w,M,_,O)}))}).catch(xt).then(function(){if((r=r.filter(function(m){return m.j>0}).sort(function(m,p){return p.G-m.G})).length>0){var g=r[0],w=function(m){return m[p=m,p.length-1];var p}(r),M=g.G,_=w.G;if(_<M){var O=H>0?1/H:_>0?M/_:M<0?_/M:1+M-_;r.forEach(function(m){var p,b,j;m.M=(p=m.G,(j=1)+(p-(b=_))*(O-j)/(M-b))})}r.reduceRight(function(m,p){return p.M<2*m?p.M/=m:(m=p.M,p.M=1),p.K=m},1),r.forEach(function(m){m.M*=4});var E=B(`!function(){"use strict";var r=function(t){self.removeEventListener("message",r);var n,e,a,f,i,u=t.data,o=function(){n={},e=0,a=0,f=0,i=0};o();var s=function(){return Math.ceil((e+a)/2)},v=function(){return Math.ceil((f+i)/2)},c=function(){return{left:s(),top:v(),width:a-e,height:i-f}},l=function(r,t,u){r.forEach((function(r){var o=r[0],s=r[1],v=t+o,c=u+s;n[v+"|"+c]=!0,e=Math.min(v,e),a=Math.max(v+1,a),f=Math.min(c,f),i=Math.max(c+1,i)}))},h=function(r,t,e){return function(r,t,n){var e,a,f=r[0],i=r[1],u=t[0],o=t[1];f>i?(e=1,a=i/f):i>f?(a=1,e=f/i):e=a=1;var s=[u,o];if(n(s))return s;for(var v=u,c=o,l=u,h=o,M=v,d=c;;){u-=e,o-=a,v+=e,c+=a;var m=Math.floor(u),g=Math.floor(o),p=Math.ceil(v),E=Math.ceil(c);if(p>M)for(var L=g;L<E;++L){var x=[p,L];if(n(x))return x}if(E>d)for(var y=p;y>m;--y){var w=[y,E];if(n(w))return w}if(m<l)for(var B=E;B>g;--B){var F=[m,B];if(n(F))return F}if(g<h)for(var b=m;b<p;++b){var j=[b,g];if(n(j))return j}l=m,h=g,M=p,d=E}}(u,[t+s(),e+v()],(function(t){var e=t[0],a=t[1];return function(r,t,e){return r.every((function(r){var a=r[0],f=r[1];return!n[t+a+"|"+(e+f)]}))}(r,e,a)}))};self.postMessage({}),self.addEventListener("message",(function(r){self.postMessage({getBounds:c,put:l,findFit:h,clear:o}[r.data.name].apply(null,r.data.args))}))};self.addEventListener("message",r)}();
`),I={completedWords:0,totalWords:r.length};return Promise.resolve().then(function(){return t.throwIfInterrupted(),i.progress=I,G(E,L)}).then(function(){t.throwIfInterrupted(),I.completedWords++;var m=Promise.resolve();return r.reduce(function(p,b,j){return m=m.then(function(){return b.K<p.K?Promise.resolve().then(function(){return G(E,{name:"clear"})}).then(function(){var A=Promise.resolve(),$=p.K/b.K;return r.slice(0,j).forEach(function(F){A=A.then(function(){return F.M*=$,G(E,{name:"put",args:[F.T,F.R,F.U]})})}),A}):G(E,{name:"put",args:[p.T,p.R,p.U]})}).then(function(){return b._=T,G(E,{name:"findFit",args:[b.T,b.R,b.U]})}).then(function(A){var $=A[0],F=A[1];t.throwIfInterrupted(),I.completedWords++,b.R=$,b.U=F,b._=0}),b}),m}).then(function(){return G(E,{name:"put",args:[w.T,w.R,w.U]})}).then(function(){return G(E,{name:"getBounds"})}).then(function(m){var p=m.left,b=m.top,j=m.width,A=m.height;if(j>0&&A>0){var $=Math.min(o/j,a/A);r.forEach(function(S){S.O-=p,S.W-=b,S.M*=$})}var F=new Set;return r.map(function(S){for(var Vt=S.J,bt=S.t,qt=S.G,Bt=S.i,Jt=S.o,Qt=S.u,Kt=S.s,Yt=S.h,Xt=S.S,Zt=S.O,te=S.W,ee=S.I,et=JSON.stringify([bt,Jt,Qt,Kt,Yt]);F.has(et);)et+="!";return F.add(et),{key:et,word:Vt,text:bt,weight:qt,rotation:Bt,font:Xt,color:ee,left:Zt,top:te}})}).finally(function(){E.terminate()}).finally(function(){t.throwIfInterrupted(),i.progress=null})}return[]})}return[]},default:Dt}})],props:we,data:function(){return{elementWidth:0,elementHeight:0,progress:null}},computed:_e,watch:Me,mounted:function(){var t,e,i=this;t=function(){if(i._isDestroyed)return!1;i.updateElementSize()},e=1e3,function(n){var o=function(){for(var a=[],r=arguments.length;r--;)a[r]=arguments[r];return n.call.apply(n,[this,o].concat(a))};return o}(function(n){requestAnimationFrame(function(){t()!==!1&&setTimeout(n,e)})})()},methods:xe,render:function(){var t=this.$slots,e=this.animationEasing,i=this.animationOptions,n=this.cloudWords,o=this.separateAnimationDelay,a=this.separateAnimationDuration;return t=Object.assign({},{default:function(r){return r.text}},t),q("div",{style:{height:"100%",position:"relative",width:"100%"}},[q("div",{style:{bottom:"50%",position:"absolute",right:"50%",transform:"translate(50%,50%)"}},n.map(function(r,s){var u=r.color,l=r.font,f=r.left,c=r.rotation,h=r.text,d=r.top,v=r.weight,k=r.word;return q("transition",Object.assign({},i),[q("div",{key:s,style:Object.assign({},{left:f+"px",position:"absolute",top:d+"px"},a>0?{animation:[a+"ms",e,o*s+"ms"].join(" "),transition:["all",a+"ms",e,o*s+"ms"].join(" ")}:{})},[q("div",{style:Object.assign({},{bottom:"50%",color:u,font:l,position:"absolute",right:"50%",transform:["translate(50%,50%)","rotate("+c+"rad)"].join(" "),whiteSpace:"nowrap"},a>0?{transition:["all",a+"ms",e,o*s+"ms"].join(" ")}:{})},[t.default({color:u,font:l,left:f,text:h,top:d,weight:v,word:k})])])])}))])}},ft={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GET_TAGS"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"30"}},{kind:"Argument",name:{kind:"Name",value:"page"},value:{kind:"IntValue",value:"1"}},{kind:"Argument",name:{kind:"Name",value:"sort"},value:{kind:"StringValue",value:"-count(articles)",block:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"articles_func"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:184}};ft.loc.source={body:` query GET_TAGS {
    tags (limit: 30, page: 1, sort: "-count(articles)") {
        id
        name
        slug
        status
        articles_func {
            count
        }
	}
}`,name:"GraphQL request",locationOffset:{line:1,column:1}};function ot(t,e){if(t.kind==="FragmentSpread")e.add(t.name.value);else if(t.kind==="VariableDefinition"){var i=t.type;i.kind==="NamedType"&&e.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(n){ot(n,e)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(n){ot(n,e)}),t.definitions&&t.definitions.forEach(function(n){ot(n,e)})}var yt={};(function(){ft.definitions.forEach(function(e){if(e.name){var i=new Set;ot(e,i),yt[e.name.value]=i}})})();function Ot(t,e){for(var i=0;i<t.definitions.length;i++){var n=t.definitions[i];if(n.name&&n.name.value==e)return n}}function Ae(t,e){var i={kind:t.kind,definitions:[Ot(t,e)]};t.hasOwnProperty("loc")&&(i.loc=t.loc);var n=yt[e]||new Set,o=new Set,a=new Set;for(n.forEach(function(s){a.add(s)});a.size>0;){var r=a;a=new Set,r.forEach(function(s){if(!o.has(s)){o.add(s);var u=yt[s]||new Set;u.forEach(function(l){a.add(l)})}})}return o.forEach(function(s){var u=Ot(t,s);u&&i.definitions.push(u)}),i}Ae(ft,"GET_TAGS");const je={class:"p-4 text-red-500"},Fe=["title","onClick"],tn=ct({__name:"TagCloud",async setup(t){let e,i;const{data:n}=([e,i]=$t(()=>Nt(ft,{pageSize:100})),e=await e,i(),e),o=x(()=>{var f,c;let l=new Map;return(c=(f=n==null?void 0:n.value)==null?void 0:f.tags)==null||c.reduce((h,d)=>(h.set(d.name,d),h),l),l}),a=x(()=>{var l,f;return(f=(l=n==null?void 0:n.value)==null?void 0:l.tags)==null?void 0:f.map(c=>{var h;return{text:c==null?void 0:c.name,weight:(h=c==null?void 0:c.articles_func)==null?void 0:h.count,url:c==null?void 0:c.slug}})}),r=l=>{const f=[.125,.875],c=Math.floor(Math.random()*f.length);return f[c]},s=l=>{const f=["#CCCCCC","#AA9999","#FFAAAA","#AAAAAA"],c=Math.floor(Math.random()*f.length);return f[c]},u=async l=>{const f=o.value.get(l),c=f==null?void 0:f.slug;await se(c)};return(l,f)=>(U(),nt("div",je,[ae(R(Ee),{style:{height:"200px"},words:R(a),rotation:c=>r(),color:c=>s(),"font-family":"FreeHKKai","font-size-ratio":3,spacing:.1},{default:wt(c=>[Y("div",{title:c.weight,class:"hover:text-white",style:{cursor:"pointer"},onClick:h=>u(c.text)},at(c.text),9,Fe)]),_:1},8,["words","rotation","color"])]))}});async function Oe(t,e){return await Ie(e).catch(n=>(console.error("Failed to get image meta for "+e,n+""),{width:0,height:0,ratio:0}))}async function Ie(t){if(typeof Image>"u")throw new TypeError("Image not supported");return new Promise((e,i)=>{const n=new Image;n.onload=()=>{const o={width:n.width,height:n.height,ratio:n.width/n.height};e(o)},n.onerror=o=>i(o),n.src=t})}function It(t){return e=>e?t[e]||e:t.missingValue}function Lt({formatter:t,keyMap:e,joinWith:i="/",valueMap:n}={}){t||(t=(a,r)=>`${a}=${r}`),e&&typeof e!="function"&&(e=It(e));const o=n||{};return Object.keys(o).forEach(a=>{typeof o[a]!="function"&&(o[a]=It(o[a]))}),(a={})=>Object.entries(a).filter(([s,u])=>typeof u<"u").map(([s,u])=>{const l=o[s];return typeof l=="function"&&(u=l(a[s])),s=typeof e=="function"?e(s):s,t(s,u)}).join(i)}function N(t=""){if(typeof t=="number")return t;if(typeof t=="string"&&t.replace("px","").match(/^\d+$/g))return parseInt(t,10)}function $e(t){const e={options:t},i=(o,a={})=>Gt(e,o,a),n=(o,a={},r={})=>i(o,{...r,modifiers:zt(a,r.modifiers||{})}).url;for(const o in t.presets)n[o]=(a,r,s)=>n(a,r,{...t.presets[o],...s});return n.options=t,n.getImage=i,n.getMeta=(o,a)=>Ne(e,o,a),n.getSizes=(o,a)=>Re(e,o,a),e.$img=n,n}async function Ne(t,e,i){const n=Gt(t,e,{...i});return typeof n.getMeta=="function"?await n.getMeta():await Oe(t,n.url)}function Gt(t,e,i){var l,f;if(typeof e!="string"||e==="")throw new TypeError(`input must be a string (received ${typeof e}: ${JSON.stringify(e)})`);if(e.startsWith("data:"))return{url:e};const{provider:n,defaults:o}=We(t,i.provider||t.options.provider),a=ze(t,i.preset);if(e=_t(e)?e:ue(e),!n.supportsAlias)for(const c in t.options.alias)e.startsWith(c)&&(e=st(t.options.alias[c],e.substr(c.length)));if(n.validateDomains&&_t(e)){const c=ce(e).host;if(!t.options.domains.find(h=>h===c))return{url:e}}const r=zt(i,a,o);r.modifiers={...r.modifiers};const s=r.modifiers.format;(l=r.modifiers)!=null&&l.width&&(r.modifiers.width=N(r.modifiers.width)),(f=r.modifiers)!=null&&f.height&&(r.modifiers.height=N(r.modifiers.height));const u=n.getImage(e,r,t);return u.format=u.format||s||"",u}function We(t,e){const i=t.options.providers[e];if(!i)throw new Error("Unknown provider: "+e);return i}function ze(t,e){if(!e)return{};if(!t.options.presets[e])throw new Error("Unknown preset: "+e);return t.options.presets[e]}function Re(t,e,i){var l,f;const n=N((l=i.modifiers)==null?void 0:l.width),o=N((f=i.modifiers)==null?void 0:f.height),a=n&&o?o/n:0,r=[],s={};if(typeof i.sizes=="string")for(const c of i.sizes.split(/[\s,]+/).filter(h=>h)){const h=c.split(":");h.length===2&&(s[h[0].trim()]=h[1].trim())}else Object.assign(s,i.sizes);for(const c in s){const h=t.options.screens&&t.options.screens[c]||parseInt(c);let d=String(s[c]);const v=d.endsWith("vw");if(!v&&/^\d+$/.test(d)&&(d=d+"px"),!v&&!d.endsWith("px"))continue;let k=parseInt(d);if(!h||!k)continue;v&&(k=Math.round(k/100*h));const T=a?Math.round(k*a):o;r.push({width:k,size:d,screenMaxWidth:h,media:`(max-width: ${h}px)`,src:t.$img(e,{...i.modifiers,width:k,height:T},i)})}r.sort((c,h)=>c.screenMaxWidth-h.screenMaxWidth);const u=r[r.length-1];return u&&(u.media=""),{sizes:r.map(c=>`${c.media?c.media+" ":""}${c.size}`).join(", "),srcset:r.map(c=>`${c.src} ${c.width}w`).join(", "),src:u==null?void 0:u.src}}const Ut=Lt({joinWith:"&"}),Te=(t,{modifiers:e={},baseURL:i}={})=>{const n=e.transforms;n&&n.length>0&&(e.transforms=new URLSearchParams(JSON.stringify(n)).toString().replace(/=+$/,""));const o=Ut(e);return{url:st(i,t+(o?"?"+o:""))}},De=Object.freeze(Object.defineProperty({__proto__:null,getImage:Te,operationsGenerator:Ut},Symbol.toStringTag,{value:"Module"})),Pe=Lt({keyMap:{format:"f",fit:"fit",width:"w",height:"h",resize:"s",quality:"q",background:"b"},joinWith:"&",formatter:(t,e)=>St(t)+"_"+St(e)}),Ce=(t,{modifiers:e={},baseURL:i}={},n)=>{e.width&&e.height&&(e.resize=`${e.width}x${e.height}`,delete e.width,delete e.height);const o=Pe(e)||"_";return i||(i=st(n.options.nuxt.baseURL,"/_ipx")),{url:st(i,o,le(t))}},Le=!0,Ge=!0,Ue=Object.freeze(Object.defineProperty({__proto__:null,getImage:Ce,supportsAlias:Ge,validateDomains:Le},Symbol.toStringTag,{value:"Module"})),Ht={screens:{xs:320,sm:640,md:768,lg:1024,xl:1280,xxl:1536,"2xl":1536},presets:{},provider:"ipx",domains:[],alias:{}};Ht.providers={directus:{provider:De,defaults:{baseURL:"https://cdn.scj2000.net/assets/",modifiers:{}}},ipx:{provider:Ue,defaults:void 0}};const He=()=>{const t=fe(),e=Rt();return e.$img||e._img||(e._img=$e({...Ht,nuxt:{baseURL:t.app.baseURL}}))},Ve={src:{type:String,required:!0},format:{type:String,default:void 0},quality:{type:[Number,String],default:void 0},background:{type:String,default:void 0},fit:{type:String,default:void 0},modifiers:{type:Object,default:void 0},preset:{type:String,default:void 0},provider:{type:String,default:void 0},sizes:{type:[Object,String],default:void 0},preload:{type:Boolean,default:void 0},width:{type:[String,Number],default:void 0},height:{type:[String,Number],default:void 0},alt:{type:String,default:void 0},referrerpolicy:{type:String,default:void 0},usemap:{type:String,default:void 0},longdesc:{type:String,default:void 0},ismap:{type:Boolean,default:void 0},loading:{type:String,default:void 0},crossorigin:{type:[Boolean,String],default:void 0,validator:t=>["anonymous","use-credentials","",!0,!1].includes(t)},decoding:{type:String,default:void 0,validator:t=>["async","auto","sync"].includes(t)}},qe=t=>{const e=x(()=>({provider:t.provider,preset:t.preset})),i=x(()=>({width:N(t.width),height:N(t.height),alt:t.alt,referrerpolicy:t.referrerpolicy,usemap:t.usemap,longdesc:t.longdesc,ismap:t.ismap,crossorigin:t.crossorigin===!0?"anonymous":t.crossorigin||void 0,loading:t.loading,decoding:t.decoding})),n=x(()=>({...t.modifiers,width:N(t.width),height:N(t.height),format:t.format,quality:t.quality,background:t.background,fit:t.fit}));return{options:e,attrs:i,modifiers:n}},Be={...Ve,placeholder:{type:[Boolean,String,Number,Array],default:void 0}},Je=ct({name:"NuxtImg",props:Be,emits:["load","error"],setup:(t,e)=>{const i=He(),n=qe(t),o=kt(!1),a=x(()=>i.getSizes(t.src,{...n.options.value,sizes:t.sizes,modifiers:{...n.modifiers.value,width:N(t.width),height:N(t.height)}})),r=x(()=>{const d={...n.attrs.value,"data-nuxt-img":""};return t.sizes&&(d.sizes=a.value.sizes,d.srcset=a.value.srcset),d}),s=x(()=>{let d=t.placeholder;if(d===""&&(d=!0),!d||o.value)return!1;if(typeof d=="string")return d;const v=Array.isArray(d)?d:typeof d=="number"?[d,d]:[10,10];return i(t.src,{...n.modifiers.value,width:v[0],height:v[1],quality:v[2]||50},n.options.value)}),u=x(()=>t.sizes?a.value.src:i(t.src,n.modifiers.value,n.options.value)),l=x(()=>s.value?s.value:u.value);if(t.preload){const d=Object.values(a.value).every(v=>v);de({link:[{rel:"preload",as:"image",...d?{href:a.value.src,imagesizes:a.value.sizes,imagesrcset:a.value.srcset}:{href:l.value}}]})}const f=kt(),h=Rt().isHydrating;return he(()=>{if(s.value){const d=new Image;d.src=u.value,d.onload=v=>{f.value&&(f.value.src=u.value),o.value=!0,e.emit("load",v)};return}f.value&&(f.value.complete&&h&&(f.value.getAttribute("data-error")?e.emit("error",new Event("error")):e.emit("load",new Event("load"))),f.value.onload=d=>{e.emit("load",d)},f.value.onerror=d=>{e.emit("error",d)})}),()=>q("img",{ref:f,key:l.value,src:l.value,...r.value,...e.attrs})}}),Qe={class:"flex flex-col max-h-48 overflow-hidden justify-start p-4 leading-normal"},Ke={class:"mb-2 text-2xl font-kai font-bold tracking-tight text-red-500 hover:text-red-300"},Ye={class:"overflow-hidden font-normal text-gray-500 hover:text-gray-700"},en=ct({__name:"ArticleCard",props:{data:{}},setup(t){const e=t,i=x(()=>{var r;return(r=e.data)==null?void 0:r.title}),n=x(()=>{var r;return(r=e.data)==null?void 0:r.cover_image}),o=x(()=>{var r;return(r=e.data)==null?void 0:r.summary}),a=x(()=>{var r;return(r=e.data)==null?void 0:r.slug});return(r,s)=>{const u=Je,l=me;return U(),mt(l,{to:R(a),class:"flex flex-col items-start border border-gray-200 rounded-lg shadow mb-2 md:flex-row bg-gray-300"},{default:wt(()=>{var f,c;return[(f=R(n))!=null&&f.id?(U(),mt(u,{key:0,class:"object-cover w-full rounded-t-lg h-48 md:h-auto md:w-48 md:rounded-none md:rounded-l-lg",provider:"directus",src:(c=R(n))==null?void 0:c.id,modifiers:{key:"cover"},alt:""},null,8,["src"])):Wt("",!0),Y("div",Qe,[Y("h5",Ke,at(R(i)),1),Y("p",Ye,at(R(o)),1)])]}),_:1},8,["to"])}}});export{en as _,Ze as a,tn as b};
